# RainNet-MT-rainfall-prediction-APP
## PyQt5ライブラリに基づくデスクトップアプリケーション

本アプリケーションは、PyQt5ライブラリに基づくデスクトップアプリケーションであり、オフィスビルにおける室内環境モニタリングおよび降雨量予測システムとして設計されています。
IoT技術を活用したRainNet-MT（降水確率・降水量両方予測モデル）プラットフォームです。


## 1. アプリケーション概要

### 1.1 メインウィンドウ
![Main Window](Image/2.png)
メインウィンドウは、オフィス環境の包括的な概要を提供し、以下の3つの主要な側面に焦点を当てています：

1). **室内環境モニタリング**
   - 温度、湿度、気圧、風速などのリアルタイムセンサーデータを表示
   - CO2濃度、PM2.5、PM10などの空気質指標を監視
   - グローブ温度（平均放射温度）の表示

2). **降雨量予測**
   - RainNet-MTモデルに基づく1時間先の降雨量予測
   - 降雨確率と強度（無降雨、小雨、中雨、大雨）の表示
   - リアルタイム予測結果の可視化

3). **天気情報**
   - Open-Meteo APIを使用した現地天気情報の表示
   - 気温、風速、天候状況のリアルタイム更新
   - 日本国内6都市（福岡、東京、大阪、名古屋、札幌、仙台）の選択可能

追加機能：
- MQTTプロトコルによるリアルタイムデータ受信
- MySQLデータベースとの連携による履歴データの保存・閲覧
- データ分析ダッシュボードによる包括的なデータ可視化
- ユーザーフレンドリーなインターフェース設計（Apple/Googleネイティブスタイル）

### 1.2 ログインウィンドウ
![Login Window](Image/00.png)
- 都市選択機能（日本国内6都市から選択可能）
- ユーザー名の入力（オプション）
- ゲストモードでの利用も可能

### 1.3 データ分析ダッシュボード
![Analytics Dashboard](Image/v.png)
- センサーデータの包括的な可視化
- 過去24時間のデータトレンド表示
- MySQLデータベースとのリアルタイム連携
- データのエクスポート機能

### 1.4 RainNet-MT予測モデル
現在の降雨量予測モデルは、湿度、気圧、風速などのセンサーデータに基づくヒューリスティックロジックを採用しています。十分なデータが収集され次第、深層学習モデルに適応し、より正確な降雨量予測を提供し、空調設備の最適化に貢献します。

### 1.5 データベーストレンド表示
![Database Trend](Image/tag2.png)
- 各センサー指標の過去データをグラフで表示
- データベースから直接データを取得
- インタラクティブなデータ探索機能

## 2. インストール

このプロジェクトをセットアップして実行するには、以下の手順に従ってください：

1. リポジトリをクローン：
```bash
   git clone https://github.com/your-repo/RainNet-MT.git
   cd RainNet-MT
```

2. **Python 3.7**以上がシステムにインストールされていることを確認してください。

3. 必要な依存関係をインストール：
```bash
   pip install -r requirements.txt
```
これにより、**PyQt5**を含むすべての必要なライブラリがインストールされます。

4. MySQLデータベースのセットアップ：
- MySQLがインストールされていない場合はインストールしてください
- プロジェクト用の新しいデータベースを作成してください
- 設定ファイル（該当する場合）でデータベース接続設定を更新してください

5. MQTTブローカーの設定：
- MQTTブローカーの接続情報を`BI-Tech.py`内で設定してください
- TLS/SSL証明書のパスを設定してください（該当する場合）

6. アプリケーションを実行：
```bash
   python BI-Tech.py
```

### RainNet-MTアプリケーションのパッケージ化

**PyInstallerのインストール**：  
アプリケーションをパッケージ化するために、PyInstallerがインストールされていることを確認してください。pip経由でインストールできます：

```bash
   pip install pyinstaller
   pyinstaller BI-Tech.spec
```

## 3. 主要機能

### 3.1 リアルタイムセンサーモニタリング
- **温度**：室内温度のリアルタイム表示
- **湿度**：相対湿度の監視
- **気圧**：大気圧の測定
- **風速**：風速データの表示
- **CO2濃度**：二酸化炭素濃度の監視（色分け表示：緑=正常、黄=注意、赤=警告）
- **PM2.5/PM10**：微粒子物質の濃度測定
- **グローブ温度**：平均放射温度の表示

### 3.2 降雨量予測システム
- **1時間先予測**：RainNet-MTモデルによる降雨量予測
- **確率表示**：降雨確率のパーセンテージ表示
- **強度分類**：無降雨、小雨、中雨、大雨の4段階分類
- **リアルタイム更新**：MQTTデータ受信に基づく自動更新

### 3.3 天気情報表示
- **現地天気**：選択した都市の現在の天気情報
- **気温表示**：リアルタイム気温
- **風速情報**：風速データの表示
- **天候状況**：天候のテキスト説明

### 3.4 データ分析機能
- **包括的ダッシュボード**：すべてのセンサーデータの統合表示
- **トレンド分析**：過去データのグラフ表示
- **データエクスポート**：CSV形式でのデータ出力
- **データベース閲覧**：MySQLデータベースからの直接データ取得

### 3.5 ユーザー機能
- **活動レポート**：ユーザーの活動記録
- **ランキング表示**：ユーザースコアのランキング
- **プロフィール管理**：ユーザー情報の表示・編集
- **設定機能**：アプリケーション設定のカスタマイズ

## 4. 技術仕様

### 4.1 使用技術
- **GUIフレームワーク**：PyQt5
- **データ通信**：MQTT（paho-mqtt）
- **データベース**：MySQL（pymysql）
- **データ処理**：NumPy、Pandas
- **可視化**：Matplotlib
- **天気API**：Open-Meteo API

### 4.2 システム要件
- Python 3.7以上
- MySQL 5.7以上（オプション）
- MQTTブローカーへの接続（オプション）
- インターネット接続（天気情報取得用）

### 4.3 対応OS
- Windows 10/11
- macOS（要検証）
- Linux（要検証）

## 5. ライセンス
このプロジェクトはMITライセンスの下で公開されています。詳細については[LICENSE](LICENSE)ファイルを参照してください。


